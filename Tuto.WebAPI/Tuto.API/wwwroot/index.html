<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    Test page
    <button onclick="foo()">send</button>
    <script src="js/signalr/signalr.min.js"></script>
    <script>
        var connection = new signalR.HubConnectionBuilder()
        .withUrl('/Hubs/TutoChat')
        .build();

        connection.on('receiveMessage', (message) => { debugger; });

        connection.start()
        .catch(error => {
            console.error(error.message);
        });
        alert(new Date().toISOString());
        function foo() {
            fetch("https://localhost:44367/OData/ChatMessages",
            {
                method: "POST",
                body: JSON.stringify(
                {
                    "SendTime": new Date().toISOString(),
                    "SenderId": "869aad0c-5017-ea11-b815-00155d0ace00",
                    "RecipientId": "869aad0c-5017-ea11-b815-00155d0ace00",
                    "Text": "DIMA Pidщщor"
                }),
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                },
            });
        }
    </script>
</body>
</html>

